script: stacCollectionItems.R
name: List STAC items
description: Given a STAC collection URL, this step produces two outputs, (1) items_csv — a single-line CSV with tokens "<collection_id>|<item_id>" separated by commas that can be the input of other steps, and (2) items_props_csv — a CSV with the proj:bbox, proj:epsg, and spatial_resolution extracted from the FIRST of the collection. If spatial_resolution is missing in STAC, it reads the GeoTIFF to derive it.
author:
  - name: Luis Fernando Urbina
    email: lurbina@humboldt.org.co 
    identifier: https://orcid.org/0000-0002-0746-9827
lifecycle: 
  status: in_development
inputs:
  collection_url:
    label: Collection URL
    description: Full URL to the STAC collection endpoint
    type: text
    example: "https://stac.geobon.org/collections/colombia-human-footprint"
  initial_date:
    label: Initial date
    description: Start date (inclusive), format YYYY-MM-DD. Optional; leave blank to fetch all items
    type: text
    example: "2010-01-01"
  final_date:
    label: Final date
    description: End date (inclusive), format YYYY-MM-DD. Optional; leave blank to fetch all items
    type: text
    example: "2020-12-31"
outputs:
  items_csv:
    label: Items CSV
    description: Single-line CSV with "<collection_id>|<item_id>" comma-separated, no header
    type: text/csv
  items_props_csv:
    label: Item properties CSV
    description: CSV file where each line contains a property in the form "key:value" (no header). The keys are proj:bbox, proj:epsg, and spatial_resolution from the first item in the collection.
    type: text/csv